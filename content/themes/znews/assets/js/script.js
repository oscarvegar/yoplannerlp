var fb_hide_cover = true; // hide facebook cover
var fb_show_posts = false; // show recent posts
var znewsTheme={facebook:function(){if($(".fb-widget").length>0&&fb_page_url){var e='<div class="fb-page" data-href="'+fb_page_url+'" data-small-header="false" data-adapt-container-width="true" data-hide-cover='+fb_hide_cover+' data-show-facepile="true" data-show-posts='+fb_show_posts+'><div class="fb-xfbml-parse-ignore"></div></div>';$(".fb-widget").append(e)}},twitter:function(){if($(".twitter-widget").length>0&&twitter_url&&twitter_widget_id&&number_of_tweet){var e='<a class="twitter-timeline" href="'+twitter_url+'" data-widget-id="'+twitter_widget_id+'" data-chrome="nofooter noscrollbar" data-tweet-limit="'+number_of_tweet+'">Tweets</a>';$(".twitter-widget").append(e)}},highlighter:function(){$("pre code").each(function(e,t){hljs.highlightBlock(t)})},tagcloud:function(){if(tagCloudData.length>0){for(var e="",t=0;t<tagCloudData.length;t+=1)e+='<a href="'+tagCloudData[t].t+'">'+tagCloudData[t].tl+"</a>";$(".tags").append(e)}},formatDate:function(e){var t=new Date(e),i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],a=i[t.getMonth()],s=t.getDate(),n=t.getFullYear(),l=a+" "+s+", "+n;return l},parseFeedItem:function(e){var t={};return t.link=$(e).find("link").text(),t.title=$(e).find("title").text(),t.published_date=$(e).find("pubDate").text(),t.image_link=$(e).find("media\\:content, content").attr("url"),t.descriptionPost=$(e).find("description").text(),t.descriptionParsed=removeHtmlTag($(e).find("description").text(),100),t},recentPost:function(){var e=site_url+"/rss/",t=String("");$(".recent-post").length>0&&recent_post_count&&$.get(e,function(e){$(e).find("item").slice(0,recent_post_count).each(function(){var e=znewsTheme.parseFeedItem(this);if("undefined"!=typeof e.image_link)var i='<div class="post-img pull-left" style="background-image:url('+e.image_link+')"></div>';else var i='<div class="post-img pull-left"><i class="fa fa-picture-o"></i></div>';t+='<div class="recent-single-post clearfix '+e.helper_class+'"><a href="'+e.link+'" class="post-title">',t+=i,t+='<div class="post-info"><div class="post-title">'+e.title+'</div><div class="date">'+znewsTheme.formatDate(e.published_date)+"</div></div>",t+="</a></div>"}),$(".recent-post").html(t)})},showWidgets:function(){homePosts&&$("#main-widgets").length>0&&homePosts.forEach(function(e,t){var i="home_v_"+t;$("#main-widgets").append('<div class="'+i+'"></div>'),$("."+i).html('<img style="margin: 0 auto;display: block;padding:50px;" src="assets/images/loading.svg">'),"single"==e.type?znewsTheme.showSimpleWidget(e,i):"twocol"==e.type&&znewsTheme.showSimpleTopWidget(e,i)})},showSimpleWidget:function(e,t){if(e&&e.tag){var i=site_url+"/tag/"+e.tag+"/rss/",a=String("");$.get(i,function(i){a+='<h3 class="title-widget-home"><a href="'+site_url+"/tag/"+e.tag+'/"><span>'+e.title+'</span></a></h3><div class="single-box znews-default">';var s=0;$(i).find("item").slice(0,e.count).each(function(){var e=znewsTheme.parseFeedItem(this);if("undefined"!=typeof e.image_link)var t='<div class="slider-image imgbg" style="background-image:url('+e.image_link+')"></div>';else var t='<div class="slider-image"><i class="fa fa-picture-o"></i></div>';0==s?(a+='<div class="single-left"><a href="'+e.link+'" >'+t+"</a>",a+='<h2><a href="'+e.link+'">'+e.title+"</a></h2>",a+='<div class="post-meta"><i class="fa fa-calendar-o margin-5"></i><span class="margin-5">'+znewsTheme.formatDate(e.published_date)+'</span><span class="comment"><i class="fa fa-comment-o"></i><a class="margin-5" href="'+e.link+'#disqus_thread">0 Comments</a></span></div>',a+='<div class="entry">',a+=e.descriptionParsed,a+="</div></div>"):(a+='<div class="single-right"><a href="'+e.link+'">'+t+"</a>",a+='<h3 class="post-title"><a href="'+e.link+'">'+e.title+"</a></h2>",a+='<div class="post-meta"><i class="fa fa-calendar-o"></i><span class="margin-5">'+znewsTheme.formatDate(e.published_date)+'</span><span class="comment margin-5"><i class="fa fa-comment-o"></i><a class="margin-5" href="'+e.link+'#disqus_thread">0 Comments</a></span></div>',a+="</div>"),s++}),a+="</div>",$("."+t).html(a)})}},showSimpleTopWidget:function(e,t){if(e&&e.tag){var i=site_url+"/tag/"+e.tag+"/rss/",a=String("");$.get(i,function(i){a+='<h3 class="title-widget-home"><a href="'+site_url+"/tag/"+e.tag+'/"><span>'+e.title+'</span></a></h3><div class="single-box single-top-box znews-default">',$(i).find("item").slice(0,e.count).each(function(){var e=znewsTheme.parseFeedItem(this);if("undefined"!=typeof e.image_link)var t='<div class="slider-image imgbg" style="background-image:url('+e.image_link+')"></div>';else var t='<div class="slider-image"><i class="fa fa-picture-o"></i></div>';a+='<div class="single-right"><a href="'+e.link+'">'+t+"</a>",a+='<h3 class="post-title"><a href="'+e.link+'">'+e.title+"</a></h2>",a+='<div class="post-meta"><i class="fa fa-calendar-o"></i><span class="margin-5">'+znewsTheme.formatDate(e.published_date)+'</span><span class="comment margin-5"><i class="fa fa-comment-o"></i><a class="margin-5" href="'+e.link+'#disqus_thread">0 Comments</a></span></div>',a+="</div>"}),a+="</div>",$("."+t).html(a)})}},topStoryWidget:function(){if("undefined"!=typeof topStoryTag){if(topStoryTag)var e=site_url+"/tag/"+topStoryTag+"/rss/";else var e=site_url+"/rss/";var t=String("");$("#top-widget").html('<img style="margin: 0 auto;display: block;padding:50px;" src="assets/images/loading.svg">'),$.get(e,function(e){t+='<div class="single-box single-top-box top-box">';var i=0;$(e).find("item").slice(0,5).each(function(){var e=znewsTheme.parseFeedItem(this);if("undefined"!=typeof e.image_link)var a='<div class="slider-image imgbg" style="background-image:url('+e.image_link+')"><h3>'+e.title+"</h3></div>";else var a='<div class="slider-image"><i class="fa fa-picture-o"></i></div>';0==i?(t+='<div class="single-left"><a href="'+e.link+'" >'+a+"</a>",t+="</div>"):1==i||3==i?(t+='<div class="single-right"><a href="'+e.link+'">'+a+"</a>",t+="</div>"):(t+='<div class="single-right single-r-right"><a href="'+e.link+'">'+a+"</a>",t+="</div>"),i++}),t+="</div>",$("#top-widget").html(t)})}},searchForm:function(){$(".search-ghost").ghostHunter({results:".znews-search-results",onKeyUp:!0,zeroResultsInfo:!1,info_template:'<div class="search-info">{{amount}} posts found</div>',result_template:"<div class=\"result-info\"><a href='{{link}}'>{{title}}</a></div>"})},newsTicker:function(){var e="/rss/",t=String("");$.get(e,function(e){function i(){$(".news-ticker li:first").slideUp(function(){$(this).appendTo($(".news_ticker ul")).slideDown()})}t+="<ul>",$(e).find("item").slice(0,news_ticker_count).each(function(){var e=$(this).find("link").text(),i=$(this).find("title").text();t+='<li><a href="'+e+'" target="_blank">'+i+"</a></li>"}),t+="</ul>",$(".news-ticker").append(t),setInterval(function(){i()},5e3)})}};$(document).ready(function(){znewsTheme.facebook(),znewsTheme.twitter(),znewsTheme.highlighter(),znewsTheme.tagcloud(),znewsTheme.recentPost(),znewsTheme.showWidgets(),znewsTheme.searchForm(),znewsTheme.newsTicker(),znewsTheme.topStoryWidget(),$(".related-posts").ghostRelated({titleClass:".post-title",tagsClass:".post-tags-post",limit:3}),$(".znews-search").click(function(){$(".znews-search-awesome").show()}),$(".search-close-btn").click(function(){$(".znews-search-awesome").hide()}),$(".spinnerBg").hide(),$(".spinner").hide()});
